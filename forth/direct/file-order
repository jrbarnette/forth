# Copyright 2016, by J. Richard Barnette, All Rights Reserved.

# First, build up the DIRECT vocabulary that's responsible for
# primitives to emit syntactically correct direct execution code.
forth/direct/direct.fth
    # These files are repeated below.  They can contain only
    # prim: definitions.
    forth/direct/core/dictionary.fth
    forth/direct/core/stackprim.fth
    forth/direct/core/arithprim.fth
    forth/direct/core/memprim.fth

# Now start building up the TARGET vocabulary and meta-compiler.
forth/direct/target.fth
forth/direct/tokens.fth
forth/common/internal/interpret.fth
forth/direct/startdict.fth
    # Repeat our early primitive definitions, this time to generate
    # initial dictionary content.
    #
    # These initial files can contain only "prim:" definitions.
    # Colon definitions can't work until we load vmprim because ";"
    # depends on "EXIT".  Also, colon definitions are only as useful
    # as the set of primitives we have available.
    forth/direct/core/dictionary.fth
    forth/direct/core/stackprim.fth
    forth/direct/core/arithprim.fth
    forth/direct/core/memprim.fth
    forth/direct/core/multprim.fth
    forth/direct/core/vmprim.fth

    # From here forward we can make colon definitions, with
    # limitations.  We need to implement control-flow words early,
    # because the implementation requires them to be in the target
    # dictionary before we can use them.  However, the ordering is
    # interleaved because of internal dependencies:
    #   * The "control" defintions depend on some of the "stack"
    #     and "mem" operations.
    #   * Some "arith" defintions depend on IF ... ELSE ... THEN.
    forth/common/core/stackops.fth
    forth/direct/core/memops.fth
    forth/common/core/memops.fth
    forth/direct/core/control.fth
    forth/common/core/control.fth
    forth/common/core/arithops.fth

    # At this point we have working definitions for "dictionary",
    # "stack", "arith", "mem", "mult", and "control" words.  We're
    # ready to start making more complicated definitions.
    forth/direct/core/parse.fth
    forth/common/core/parse.fth
    forth/direct/core/nameprim.fth

    forth/direct/core/number.fth
    forth/common/core/number.fth
    forth/direct/core/terminal.fth
    forth/common/core/terminal.fth

    forth/common/core/compileexec.fth
    forth/direct/core/compile.fth
    forth/direct/core/state.fth
    forth/direct/search/current.fth
    forth/common/search/order.fth
    forth/common/internal/chartype.fth
    forth/common/internal/namespace.fth
    forth/common/internal/lookup.fth
    forth/common/internal/tokens.fth
    forth/common/internal/interpret.fth
    # forth/common/core/quit.fth

    forth/direct/core/nameops.fth
    forth/common/core/format.fth
    forth/common/core/compile.fth
    forth/direct/file/fileprim.fth
forth/direct/enddict.fth
